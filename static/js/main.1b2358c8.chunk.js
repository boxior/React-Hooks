(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{16:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a={daily:"/",weekly:"/weekly"},r={daily:"daily",weekly:"weekly"}},219:function(e,t,n){e.exports=n(506)},506:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(17),c=n.n(i),u=n(129),l=n(25),o=n(507),s=n(49),d=n(212),f=n.n(d),y=Object(s.createMuiTheme)({typography:{useNextVariants:!0}}),m=n(16),b=n(26),E=n(73),p=n.n(E),v=p()({loader:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,534))},loading:function(){return null}}),g=p()({loader:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,535))},loading:function(){return null}}),h=n(117),S=n.n(h),O="61bb39d2705b2bde0d7e22fb542adea6",j=function(e){return S.a.get("/data/2.5/weather?q=".concat(e,"&APPID=").concat(O))},G=function(e){return S.a.get("/data/2.5/forecast?q=".concat(e,"&APPID=").concat(O))},w=n(20),T=n.n(w),C=n(208),k=n.n(C),x=n(213),_=n(119),D=n(114),R=n.n(D);var W=Object(a.forwardRef)(function(e,t){var n=e.values,i=e.handleChange,u=e.handleBlur,l=e.errors,o=e.touched,s=e.getHelperText,d=Object(a.useRef)(null);return Object(a.useImperativeHandle)(t,function(){return{focus:function(){d.current&&c.a.findDOMNode(d.current).getElementsByTagName("input")[0].focus()}}}),r.a.createElement(R.a,{name:"city",id:"city",variant:"outlined",value:n.city,onChange:i,onBlur:u,label:"Fancy example",error:l.city&&o.city,helperText:s(l.city,o.city),ref:d})});function I(){var e=Object(l.a)(["\n    display: flex;\n    align-items: flex-start;\n"]);return I=function(){return e},e}function L(){var e=Object(l.a)(["\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n    padding: 25px;\n"]);return L=function(){return e},e}var A=b.a.div(L()),P=b.a.form(I());function Y(e){var t=Object(a.useContext)(Te),n=e.values,i=e.touched,u=e.errors,l=e.isSubmitting,o=e.handleChange,s=e.handleBlur,d=e.handleSubmit,f=e.resetForm,y=e.setSubmitting,m=e.setFieldError,b=e.location,E=e.render,p=t.cities,v=p.isSendingGetDaily,g=p.isSendingGetWeekly,h=p.isSuccessGetDaily,S=p.isSuccessGetWeekly,O=Object(a.useRef)(null),j=Object(a.useRef)(null);Object(a.useLayoutEffect)(function(){j.current&&j.current.focus()},[b.pathname]),Object(a.useEffect)(function(){O.current&&c.a.findDOMNode(O.current).getElementsByTagName("input")[0].focus()},[]),Object(a.useEffect)(function(){if(v||g||y(!1),!h&&!v||!S&&!g){var e=T.a.get(p,"error.message");e&&m("city",e)}},[v,g]),Object(a.useEffect)(function(){h&&S&&f()},[h,S]);var G=function(e,t){switch(!0){case e&&t:return e;default:return null}};return r.a.createElement(A,null,r.a.createElement(P,{onSubmit:d},"fancy"===""?r.a.createElement(W,{ref:j,values:n,errors:u,touched:i,handleChange:o,handleBlur:s,getHelperText:G}):r.a.createElement(k.a,{name:"city",id:"city",variant:"outlined",value:n.city,onChange:o,onBlur:s,label:"City",error:u.city&&i.city,helperText:G(u.city,i.city),ref:O}),E({isSubmitting:l,title:"Search"})))}Y.defaultProps={};var F=Object(x.a)({mapPropsToValues:function(e){return{city:e.value}},validationSchema:_.object().shape({city:_.string().required("Required")}),handleSubmit:function(e,t){var n=t.props,a=t.setSubmitting;(0,n.onSubmit)({city:e.city}),a(!0)},displayName:"findCity"}),B=Object(o.d)(F(Y)),K=n(116),N=n.n(K),M=n(115),V=n.n(M);function q(e){var t=e.history,n=e.location,i=e.children;var c=Object(a.useMemo)(function(){return function(){switch(n.pathname){case m.b.daily:return m.a.daily;case m.b.weekly:return m.a.weekly;default:return m.a.daily}}()},[n.pathname]);return Object(a.useDebugValue)(c===m.a.daily?"D":"W"),r.a.createElement(N.a,{component:"fieldset"},r.a.createElement(V.a,{component:"legend"},"SwitchForecast"),i({memoizedValue:c,handleChange:function(e){var n=e.target.value,a=m.b.daily;switch(n){case m.a.weekly:a=m.b.weekly;break;default:a=m.b.daily}t.push(a)}}))}q.defaultProps={};var U=Object(o.d)(q),z=n(113),H=n.n(z),J=n(211),$=n.n(J),Q=n(123),X=n.n(Q),Z=n(124),ee=n.n(Z),te=n(210),ne=n.n(te);function ae(){var e=Object(l.a)(["\n    && {\n        padding: 0 15px;\n        text-transform: capitalize;\n        height: 55px;\n    }\n"]);return ae=function(){return e},e}function re(){var e=Object(l.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 15px 0;\n    margin-bottom: 15px;\n"]);return re=function(){return e},e}function ie(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return ie=function(){return e},e}function ce(){var e=Object(l.a)(["\n    && {\n      display: flex;\n      align-items: center;\n      flex-direction: row;\n    }\n"]);return ce=function(){return e},e}var ue=Object(b.a)(ne.a)(ce()),le=b.a.div(ie()),oe=Object(b.a)(H.a)(re()),se=Object(b.a)($.a)(ae());function de(e){var t=e.onFind,n=e.cities;return r.a.createElement(le,null,r.a.createElement(oe,null,r.a.createElement(B,{onSubmit:t,value:"",cities:n,render:function(e){var t=e.isSubmitting,n=e.title;return r.a.createElement(se,{type:"submit",variant:"contained",color:"primary",disabled:t},n)}}),r.a.createElement(U,null,function(e){var t=e.memoizedValue,n=e.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,{name:"forecast",value:t,onChange:n},r.a.createElement(X.a,{value:m.a.daily,control:r.a.createElement(ee.a,{color:"primary"}),label:"Daily"}),r.a.createElement(X.a,{value:m.a.weekly,control:r.a.createElement(ee.a,{color:"primary"}),label:"Weekly"})))})))}de.defaultProps={};var fe=de,ye=function(){return{type:"GET_DAILY_START"}},me=function(e){return{type:"GET_DAILY_SUCCESS",payload:e}},be=function(e){return{type:"GET_DAILY_ERROR",error:e}},Ee=function(){return{type:"GET_WEEKLY_START"}},pe=function(e){return{type:"GET_WEEKLY_SUCCESS",payload:e}},ve=function(e){return{type:"GET_WEEKLY_ERROR",error:e}},ge=function(e){return{type:"SET_CITIES",payload:e}},he=n(125),Se=n(21),Oe={data:[],activeCity:{},isSendingGetDaily:!1,isSendingGetWeekly:!1,isSuccessGetDaily:!0,isSuccessGetWeekly:!0,error:null};var je=function(e,t){switch(t.type){case"GET_DAILY_START":return Object(Se.a)({},e,{isSendingGetDaily:!0,isSuccessGetDaily:!1});case"GET_DAILY_SUCCESS":return function(e,t){var n=T.a.get(e,"data",[]),a=T.a.get(t,"data",null),r=n.find(function(e){return e.id===a.id}),i=n.findIndex(function(e){return e.id===a.id});if(r){var c=n.map(function(e,t){return t===i?a:e});return Object(Se.a)({},e,{data:c,activeCity:a,isSendingGetDaily:!1,isSuccessGetDaily:!0})}return Object(Se.a)({},e,{data:[].concat(Object(he.a)(n),[a]),activeCity:a,isSendingGetDaily:!1,isSuccessGetDaily:!0})}(e,t.payload);case"GET_DAILY_ERROR":return Object(Se.a)({},e,{error:t.error,isSendingGetDaily:!1,isSuccessGetDaily:!1});case"GET_WEEKLY_START":return Object(Se.a)({},e,{isSendingGetWeekly:!0,isSuccessGetWeekly:!1});case"GET_WEEKLY_SUCCESS":return function(e,t){var n=T.a.get(e,"data",[]),a=T.a.get(t,"data",null),r=T.a.get(a,"city",{}),i=n.find(function(e){return e.id===r.id}),c=n.findIndex(function(e){return e.id===r.id});if(i){var u=Object(Se.a)({},i,r,{list:a.list}),l=n.map(function(e,t){return t===c?u:e});return Object(Se.a)({},e,{data:l,activeCity:u,isSendingGetWeekly:!1,isSuccessGetWeekly:!0})}var o=Object(Se.a)({},r,{list:a.list});return Object(Se.a)({},e,{data:[].concat(Object(he.a)(n),[o]),activeCity:o,isSendingGetWeekly:!1,isSuccessGetWeekly:!0})}(e,t.payload);case"GET_WEEKLY_ERROR":return Object(Se.a)({},e,{error:t.error,isSendingGetWeekly:!1,isSuccessGetWeekly:!1});case"SET_CITIES":return Object(Se.a)({},e,t.payload);default:return e}};function Ge(){var e=Object(l.a)(["\n    \n"]);return Ge=function(){return e},e}var we=b.a.div(Ge()),Te=r.a.createContext();var Ce=Object(o.d)(function(e){var t=e.location,n=Object(a.useReducer)(je,Oe),i=Object(u.a)(n,2),c=i[0],l=i[1];function d(e){var n=e.city;t.pathname===m.b.daily&&(l(ye()),j(n).then(function(e){return l(me(e)),e}).catch(function(e){var t=T.a.get(e,"response.data",null);throw l(be(t)),e})),t.pathname===m.b.weekly&&(l(Ee()),G(n).then(function(e){return l(pe(e)),e}).catch(function(e){var t=T.a.get(e,"response.data",null);throw l(ve(t)),e}))}Object(a.useEffect)(function(){var e=T.a.get(c,"activeCity",{});e.name&&d({city:e.name})},[t.pathname]);var b=function(e){l(ge(e))};return r.a.createElement(s.MuiThemeProvider,{theme:y},r.a.createElement(f.a,null),r.a.createElement(we,null,r.a.createElement(Te.Provider,{value:{cities:c,onFind:d}},r.a.createElement(fe,{onFind:d,cities:c}),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:m.b.daily,render:function(e){return r.a.createElement(v,Object.assign({},e,{cities:c,onFind:d,setCities:b}))}}),r.a.createElement(o.a,{exact:!0,path:m.b.weekly,render:function(e){return r.a.createElement(g,Object.assign({},e,{cities:c,onFind:d,setCities:b}))}})))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ke=n(29),xe=Object(ke.a)();c.a.render(r.a.createElement(o.b,{history:xe},r.a.createElement(Ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[219,2,3]]]);
//# sourceMappingURL=main.1b2358c8.chunk.js.map